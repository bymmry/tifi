webpackJsonp([2],{649:function(t,i,e){var n=e(2)(e(710),e(681),null,null);t.exports=n.exports},668:function(t,i,e){i=t.exports=e(641)(!0),i.push([t.i,".br{margin:.5rem 0}.min-cover,.min-cover-none{width:40px;height:40px}.min-cover-none{line-height:40px;text-align:center;font-size:20px;border:1px solid #41464b;float:left}.cover,.cover-none{width:200px;height:200px}.cover-none{line-height:200px;text-align:center;font-size:50px}.user-cover{width:50px;height:50px;border-radius:50%}.username{color:#39f}.playlist-detail{line-height:35px}.playlist-detail.active{background:#f7f7f7}.ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}","",{version:3,sources:["/Users/xiecp/tifi/views/src/components/wyPlaylistInfo.vue"],names:[],mappings:"AACA,IACE,cAAe,CAChB,AAKD,2BAHE,WAAY,AACZ,WAAY,CAUb,AARD,gBAGE,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,yBAA0B,AAC1B,UAAW,CACZ,AAKD,mBAHE,YAAa,AACb,YAAa,CAQd,AAND,YAGE,kBAAmB,AACnB,kBAAmB,AACnB,cAAe,CAChB,AACD,YACE,WAAY,AACZ,YAAa,AACb,iBAAkB,CACnB,AACD,UACE,UAAc,CACf,AACD,iBACE,gBAAiB,CAClB,AACD,wBACE,kBAAmB,CACpB,AACD,UACE,gBAAiB,AACjB,uBAAwB,AACxB,kBAAoB,CAErB",file:"wyPlaylistInfo.vue",sourcesContent:["\n.br {\n  margin: .5rem 0\n}\n.min-cover {\n  width: 40px;\n  height: 40px\n}\n.min-cover-none {\n  width: 40px;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  font-size: 20px;\n  border: 1px solid #41464b;\n  float: left\n}\n.cover {\n  width: 200px;\n  height: 200px\n}\n.cover-none {\n  width: 200px;\n  height: 200px;\n  line-height: 200px;\n  text-align: center;\n  font-size: 50px\n}\n.user-cover {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%\n}\n.username {\n  color: #3399ff\n}\n.playlist-detail {\n  line-height: 35px\n}\n.playlist-detail.active {\n  background: #f7f7f7\n}\n.ellipsis {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  /*max-width: 120px*/\n}\n\n"],sourceRoot:""}])},674:function(t,i,e){e(701);var n=e(2)(e(717),e(688),null,null);t.exports=n.exports},681:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[t.playlistShow?e("wy-playlist-info",{attrs:{playlist:t.playlist}}):e("div",{staticStyle:{position:"relative",height:"300px"}},[e("spin",{attrs:{fix:"",size:"large"}})],1)],1)},staticRenderFns:[]}},688:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("i-row",[e("i-col",{staticStyle:{"padding-top":".5rem"},attrs:{span:"6"}},[t.picUrl?e("img",{staticClass:"cover card",attrs:{src:t.picUrl}}):e("div",{staticClass:"cover-none card"},[t._v("\n        "+t._s(t.playlist.name[0])+"\n      ")])]),t._v(" "),e("i-col",{staticClass:"text-left",attrs:{span:"18"}},[e("i-row",{staticStyle:{"line-height":"42px"}},[e("i-col",{staticStyle:{"font-size":"1.5rem"},attrs:{span:"18"}},[t.like?e("i-icon",{staticStyle:{color:"red"},attrs:{type:"android-favorite"}}):e("tooltip",{attrs:{trigger:"hover",content:"收藏该歌单"}},[e("i-icon",{staticClass:"cursor",attrs:{type:"android-favorite-outline"},nativeOn:{click:function(i){t.likeControl(i)}}})],1),t._v("\n          歌单 - "+t._s(t.playlist.name)+"\n\n        ")],1),t._v(" "),e("i-col",{staticClass:"cursor",staticStyle:{"font-size":"1.2rem"},attrs:{span:"2"}},[e("tooltip",{attrs:{trigger:"hover",content:"播放该歌单"}},[e("i-icon",{attrs:{type:"play"}})],1)],1),t._v(" "),e("i-col",{staticClass:"text-center cursor",staticStyle:{"font-size":"1.2rem"},attrs:{span:"2"}},[e("tooltip",{attrs:{trigger:"hover",content:"添加到播放列表"}},[e("i-icon",{attrs:{type:"plus-round"}})],1)],1),t._v(" "),e("i-col",{staticClass:"text-right cursor",staticStyle:{"font-size":"1.2rem"},attrs:{span:"2"}},[e("tooltip",{attrs:{trigger:"hover",content:"下载该歌单"}},[e("i-icon",{attrs:{type:"arrow-down-c"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"dir"}),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"text-link"},[t._v(t._s(t.playlist.creator.nickname))]),t._v(" "+t._s(t.formatTime(t.playlist.createTime))+"\n      "),e("br"),e("br"),t._v(" 标签：\n      "),0==t.playlist.tags.length?e("tag",{attrs:{type:"dot"}},[t._v("无")]):t._l(t.playlist.tags,function(i,n){return e("tag",{key:n,attrs:{type:"dot",color:"blue"}},[t._v(t._s(i))])}),t._v(" "),e("br"),e("br"),t._v(" "),t.playlist.description?e("div",[t._v("\n        介绍："+t._s(t.playlist.description)+"\n      ")]):e("div",[t._v("\n        介绍：没有相关描述,但是从歌曲中明白了 - '用心去感受'\n      ")])],2)],1),t._v(" "),e("br"),e("br"),t._v(" "),e("i-row",[e("i-col",{attrs:{span:"1"}},[e("h1",[t._v("歌单详情")])]),t._v(" "),e("i-col",{attrs:{span:"2",offset:"1"}},[e("div",{staticClass:"dir"}),t._v(" "),e("div",[e("div",{staticClass:"text-left",staticStyle:{"font-size":"10px"}},[t._v("\n          曲目\n        ")]),t._v(" "),e("div",{staticClass:"text-right",staticStyle:{"font-size":"30px"}},[t._v("\n          "+t._s(t.playlist.trackCount)+"\n        ")])]),t._v(" "),e("div",{staticClass:"dir"}),t._v(" "),e("div",[e("div",{staticClass:"text-left",staticStyle:{"font-size":"8px"}},[t._v("\n          播放\n        ")]),t._v(" "),e("div",{staticClass:"text-right",staticStyle:{"font-size":"30px"}},[t._v("\n          "+t._s((t.playlist.playCount/1e4).toFixed())+"w\n        ")])]),t._v(" "),e("div",{staticClass:"dir"}),t._v(" "),e("div",[e("div",{staticClass:"text-left",staticStyle:{"font-size":"8px"}},[t._v("\n          收藏\n        ")]),t._v(" "),e("div",{staticClass:"text-right",staticStyle:{"font-size":"30px"}},[t._v("\n          "+t._s(t.playlist.shareCount)+"\n        ")])]),t._v(" "),e("div",{staticClass:"dir"}),t._v(" "),e("div",[e("div",{staticClass:"text-left",staticStyle:{"font-size":"8px"}},[t._v("\n          评论\n        ")]),t._v(" "),e("div",{staticClass:"text-right",staticStyle:{"font-size":"30px"}},[t._v("\n          "+t._s(t.playlist.commentCount)+"\n        ")])]),t._v(" "),e("div",{staticClass:"dir"})]),t._v(" "),e("i-col",{attrs:{span:"18",offset:"2"}},[e("div",{staticClass:"dir"}),t._v(" "),e("i-row",{staticClass:"text-center"},[e("i-col",{attrs:{span:"8",offset:"4"}},[t._v("\n          歌名\n          ")]),t._v(" "),e("i-col",{attrs:{span:"4"}},[t._v("\n          歌手\n          ")]),t._v(" "),e("i-col",{attrs:{span:"8"}},[t._v("\n          专辑\n          ")])],1),t._v(" "),e("div",{staticClass:"dir",staticStyle:{"margin-bottom":"0"}}),t._v(" "),e("div",{staticStyle:{"min-height":"350px"}},[0==t.playlist.tracks.length?e("div",{staticClass:"playlist-detail text-center"},[t._v("\n          可惜!还没有专辑\n        ")]):t._l(t.playlist.tracks,function(i,n){return e("i-row",{key:n,staticClass:"playlist-detail text-center",class:{active:(n+1)%2!=0},attrs:{gutter:16}},[e("i-col",{staticClass:"text-center",attrs:{span:"1"}},[t._v("\n            "+t._s(n+1)+"\n          ")]),t._v(" "),e("i-col",{staticClass:"text-center",attrs:{span:"3"}},[e("i-icon",{staticClass:"cursor",attrs:{type:"play"},nativeOn:{click:function(e){t.playMusic(i)}}}),t._v(" "),i.like?e("i-icon",{staticStyle:{color:"red",margin:"0 .7rem"},attrs:{type:"android-favorite"}}):e("i-icon",{staticClass:"cursor",staticStyle:{margin:"0 .7rem"},attrs:{type:"android-favorite-outline"},nativeOn:{click:function(e){t.likeSong(i,n)}}}),t._v(" "),e("i-icon",{staticClass:"cursor",attrs:{type:"android-add"},nativeOn:{click:function(e){t.addToPlaylist(i)}}})],1),t._v(" "),e("i-col",{attrs:{span:"8"}},[e("div",{staticClass:"cursor",on:{click:function(e){t.playMusic(i)}}},[t._v("\n              "+t._s(i.name)+"\n            ")])]),t._v(" "),e("i-col",{attrs:{span:"4"}},[t._v("\n            "+t._s(i.ar[0].name)+"\n            ")]),t._v(" "),e("i-col",{attrs:{span:"8"}},[t._v("\n            "+t._s(i.al.name)+"\n            ")])],1)})],2),t._v(" "),e("div",{staticClass:"dir"})],1)],1),t._v(" "),e("br"),e("br"),t._v(" "),t.commentShow?e("comment",{attrs:{data:t.commentData,hot:t.hotComment},on:{pageChange:t.pageChange}}):t._e()],1)},staticRenderFns:[]}},701:function(t,i,e){var n=e(668);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e(642)("2c14f065",n,!0)},710:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(674),s=e.n(n),a=e(43);i.default={components:{wyPlaylistInfo:s.a},data:function(){return{playlistShow:!1,playlist:{}}},mounted:function(){var t=this;a.a.getPlaylistDetail(sessionStorage.getItem("playlistID")).then(function(i){console.log(i),200==i.code&&(t.playlist=i.playlist,t.playlistShow=!0)})}}},717:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(0),s=e.n(n),a=e(296),l=e.n(a),r=e(43),o=e(25);e.n(o);s.a.locale("zh-cn"),i.default={components:{comment:l.a},props:{like:{type:Boolean,default:!1},playlist:{type:Object,default:function(){return{name:"我喜欢的音乐",createTime:2e12,user:{name:"自己"},tag:[],introduction:"",song:[],like:[],comment:[],play:[]}}}},data:function(){return{commentData:[],hotComment:[],commentShow:!1,picUrl:sessionStorage.getItem("playlistPicUrl")}},methods:{likeControl:function(){this.$emit("like",!0)},formatTime:function(t){return s()(t).format("YYYY MMMDo hh:mm a 创建")},formatTimeForYear:function(t){return s()(t).format("YYYY年")},getCommont:function(t){var i=this;r.a.getPlaylistComment(this.playlist.id,10*t).then(function(e){console.log(e),i.commentData=e,0==t&&(i.hotComment=e.hotComments),i.commentShow=!0})},pageChange:function(t){this.getCommont(t)},likeSong:function(t,i){var e=this;"member"==this.$store.state.user.type?r.a.getMusicUrl(t.id).then(function(n){if(200==n.code){e.$store.dispatch("likeSong",{pid:e.$store.state.user.likelistID,song:{url:n.data[0].url,artist:{name:t.ar[0].name},album:{picUrl:t.al.picUrl,name:t.al.name},music:{wyID:t.id,name:t.name}}});var s=e.$store.state.user.likelist;e.playlist.tracks.forEach(function(t,n){s.forEach(function(n){if(n.music.wyID==t.id){var s=t;t.like=!0,e.playlist.tracks.splice(i,1,s),o.Message.success("成功收藏")}})})}}):o.Message.error("您还没有登录")},addToPlaylist:function(t){var i=this;r.a.getMusicUrl(t.id).then(function(e){200==e.code&&(i.$store.commit("addPlaylist",{url:e.data[0].url,artist:{name:t.ar[0].name},album:{picUrl:t.al.picUrl,name:t.al.name},music:{wyID:t.id,name:t.name}}),o.Message.success("成功添加到播放列表"))})},playMusic:function(t){var i=this;r.a.getMusicUrl(t.id).then(function(e){200==e.code&&i.$store.commit("playMusic",{url:e.data[0].url,artist:{name:t.ar[0].name},album:{picUrl:t.al.picUrl,name:t.al.name},music:{wyID:t.id,name:t.name}})})}},mounted:function(){var t=this;this.getCommont(0);var i=this.$store.state.user.likelist;this.playlist.tracks.forEach(function(e,n){i.forEach(function(i){i.music.wyID==e.id&&(t.playlist.tracks[n].like=!0)})})}}}});
//# sourceMappingURL=2.1c5bb8f058c3fb3dd1d1.js.map