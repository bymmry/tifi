webpackJsonp([7],{640:function(t,i,s){s(695);var n=s(2)(s(700),s(681),null,null);t.exports=n.exports},662:function(t,i,s){i=t.exports=s(637)(!0),i.push([t.i,".br{margin:.5rem 0}.min-cover,.min-cover-none{width:40px;height:40px}.min-cover-none{line-height:40px;text-align:center;font-size:20px;border:1px solid #41464b;float:left}.cover,.cover-none{width:200px;height:200px}.cover-none{line-height:200px;text-align:center;font-size:50px}.user-cover{width:50px;height:50px;border-radius:50%}.username{color:#39f}.playlist-detail{line-height:35px}.playlist-detail.active{background:#f7f7f7}","",{version:3,sources:["/Users/xiecp/tifi/views/src/components/Artist.vue"],names:[],mappings:"AACA,IACE,cAAe,CAChB,AAKD,2BAHE,WAAY,AACZ,WAAY,CAUb,AARD,gBAGE,iBAAkB,AAClB,kBAAmB,AACnB,eAAgB,AAChB,yBAA0B,AAC1B,UAAW,CACZ,AAKD,mBAHE,YAAa,AACb,YAAa,CAQd,AAND,YAGE,kBAAmB,AACnB,kBAAmB,AACnB,cAAe,CAChB,AACD,YACE,WAAY,AACZ,YAAa,AACb,iBAAkB,CACnB,AACD,UACE,UAAc,CACf,AACD,iBACE,gBAAiB,CAClB,AACD,wBACE,kBAAmB,CACpB",file:"Artist.vue",sourcesContent:["\n.br {\n  margin: .5rem 0\n}\n.min-cover {\n  width: 40px;\n  height: 40px\n}\n.min-cover-none {\n  width: 40px;\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  font-size: 20px;\n  border: 1px solid #41464b;\n  float: left\n}\n.cover {\n  width: 200px;\n  height: 200px\n}\n.cover-none {\n  width: 200px;\n  height: 200px;\n  line-height: 200px;\n  text-align: center;\n  font-size: 50px\n}\n.user-cover {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%\n}\n.username {\n  color: #3399ff\n}\n.playlist-detail {\n  line-height: 35px\n}\n.playlist-detail.active {\n  background: #f7f7f7\n}\n\n\n"],sourceRoot:""}])},681:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[t.artistShow?s("div",[s("i-row",[s("i-col",{staticStyle:{"padding-top":".5rem"},attrs:{span:"6"}},[t.artistBase.picUrl?s("img",{staticClass:"cover card",attrs:{src:t.artistBase.picUrl}}):s("div",{staticClass:"cover-none card"},[t._v("\n          "+t._s(t.artistBase.name[0])+"\n        ")])]),t._v(" "),s("i-col",{staticClass:"text-left",attrs:{span:"18"}},[s("i-row",{staticStyle:{"line-height":"42px"}},[s("i-col",{staticStyle:{"font-size":"1.5rem"},attrs:{span:"18"}},[t._v("\n            歌手 - "+t._s(t.artistBase.name)+"\n            "),s("tooltip",{attrs:{trigger:"hover",content:"收藏该歌手"}},[s("i-icon",{staticClass:"cursor",attrs:{type:"android-favorite-outline"},nativeOn:{click:function(i){t.likeControl(i)}}})],1)],1)],1),t._v(" "),s("div",{staticClass:"dir"}),t._v(" "),s("br"),s("br"),t._v(" "),t.artistBase.briefDesc?s("div",[t._v("\n          介绍："+t._s(t.artistBase.briefDesc)+"\n        ")]):s("div",[t._v("\n          介绍：没有相关描述\n        ")])],1)],1),t._v(" "),s("br"),s("br"),t._v(" "),s("i-row",[s("i-col",{attrs:{span:"1"}},[s("h1",[t._v("歌手详情")])]),t._v(" "),s("i-col",{attrs:{span:"2",offset:"1"}},[s("div",{staticClass:"dir"}),t._v(" "),s("div",[s("div",{staticClass:"text-left",staticStyle:{"font-size":"10px"}},[t._v("\n            曲目\n          ")]),t._v(" "),s("div",{staticClass:"text-right",staticStyle:{"font-size":"30px"}},[t._v("\n            "+t._s(t.artistBase.musicSize)+"\n          ")])]),t._v(" "),s("div",{staticClass:"dir"}),t._v(" "),s("div",[s("div",{staticClass:"text-left",staticStyle:{"font-size":"8px"}},[t._v("\n            专辑\n          ")]),t._v(" "),s("div",{staticClass:"text-right",staticStyle:{"font-size":"30px"}},[t._v("\n            "+t._s(t.artistBase.albumSize)+"\n          ")])]),t._v(" "),s("div",{staticClass:"dir"})]),t._v(" "),s("i-col",{attrs:{span:"18",offset:"2"}},[s("div",{staticClass:"dir"}),t._v(" "),s("i-row",{staticClass:"text-center"},[s("i-col",{attrs:{span:"12",offset:"5"}},[t._v("\n            歌名\n          ")]),t._v(" "),s("i-col",{attrs:{span:"7"}},[t._v("\n            专辑\n          ")])],1),t._v(" "),s("div",{staticClass:"dir",staticStyle:{"margin-bottom":"0"}}),t._v(" "),s("div",{staticStyle:{"min-height":"350px"}},[t.hotSong==[]?s("div",{staticClass:"playlist-detail"},[t._v("\n            可惜!还没有歌曲\n          ")]):t._l(t.hotSong,function(i,n){return s("i-row",{key:n,staticClass:"playlist-detail text-center",class:{active:(n+1)%2!=0},attrs:{gutter:16}},[s("i-col",{staticClass:"text-center",attrs:{span:"2"}},[t._v("\n              "+t._s(n+1)+"\n            ")]),t._v(" "),s("i-col",{staticClass:"text-center",attrs:{span:"3"}},[s("i-icon",{staticClass:"cursor",attrs:{type:"play"},nativeOn:{click:function(s){t.wyPlayMusic(i)}}}),t._v(" "),i.like?s("i-icon",{staticStyle:{color:"red",margin:"0 .7rem"},attrs:{type:"android-favorite"}}):s("i-icon",{staticClass:"cursor",staticStyle:{margin:"0 .7rem"},attrs:{type:"android-favorite-outline"},nativeOn:{click:function(s){t.likeSong(i,n)}}}),t._v(" "),s("i-icon",{staticClass:"cursor",attrs:{type:"android-add"},nativeOn:{click:function(s){t.addToPlaylist(i)}}})],1),t._v(" "),s("i-col",{attrs:{span:"12"}},[t._v("\n              "+t._s(i.name)+"\n            ")]),t._v(" "),s("i-col",{attrs:{span:"7"}},[t._v("\n              "+t._s(i.al.name)+"\n            ")])],1)})],2)],1)],1),t._v(" "),s("br"),s("br"),t._v(" "),s("i-row",[s("i-col",{attrs:{span:"1",offset:"3"}},[s("affix",[s("h1",[t._v(t._s(t.artistBase.name)+"的专辑")])]),t._v("\n         \n      ")],1),t._v(" "),s("i-col",{attrs:{span:"18",offset:"2"}},[s("div",{staticClass:"dir"}),t._v(" "),s("i-row",{staticClass:"text-center"},[s("i-col",{attrs:{span:"10",offset:"4"}},[t._v("\n            专辑名\n          ")]),t._v(" "),s("i-col",{attrs:{span:"6"}},[t._v("\n            发行公司\n          ")]),t._v(" "),s("i-col",{attrs:{span:"4"}},[t._v("\n            发行年份\n          ")])],1),t._v(" "),s("div",{staticClass:"dir",staticStyle:{"margin-bottom":"0"}}),t._v(" "),s("div",{staticClass:"text-center",staticStyle:{"min-height":"350px"}},[t.hotSong==[]?s("div",{staticClass:"playlist-detail"},[t._v("\n            可惜!还没有专辑\n          ")]):t._l(t.hotAlbum,function(i,n){return s("i-row",{key:n,staticClass:"playlist-detail text-center",class:{active:(n+1)%2!=0},staticStyle:{"line-height":"50px"},attrs:{gutter:16}},[s("i-col",{staticClass:"text-center",attrs:{span:"2"}},[t._v("\n              "+t._s(n+1)+"\n            ")]),t._v(" "),s("i-col",{attrs:{span:"2"}},[s("div",{staticStyle:{height:"40px",width:"40px","margin-top":"5px"}},[s("img",{staticClass:"card card-hover",staticStyle:{width:"100%",height:"100%"},attrs:{src:i.picUrl},on:{click:function(s){t.$store.commit("router",{path:"/album",id:i.id})}}})])]),t._v(" "),s("i-col",{attrs:{span:"10"}},[t._v("\n                "+t._s(i.name)+"\n              ")]),t._v(" "),s("i-col",{attrs:{span:"6"}},[t._v("\n                "+t._s(i.company)+" \n              ")]),t._v(" "),s("i-col",{attrs:{span:"4"}},[t._v("\n              "+t._s(t.formatTimeForYear(i.publishTime))+"\n            ")])],1)})],2)],1)],1)],1):s("div",{staticStyle:{position:"relative",height:"300px"}},[s("spin",{attrs:{fix:"",size:"large"}})],1)])},staticRenderFns:[]}},695:function(t,i,s){var n=s(662);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s(638)("619744b7",n,!0)},700:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=s(25),e=(s.n(n),s(0)),a=s.n(e),r=s(43);a.a.locale("zh-cn"),i.default={data:function(){return{artistID:sessionStorage.getItem("artistID"),artistBase:"",artistShow:!1,hotSong:[],hotAlbum:[]}},methods:{wyPlayMusic:function(t){var i=this,s="";r.a.getMusicUrl(t.id).then(function(t){200==t.code&&(s=t.data[0].url)}).then(function(){var n={url:s,artist:{name:t.ar[0].name},album:{name:t.al.name,picUrl:t.al.picUrl},music:{name:t.name,wyID:t.id,url:s}};console.log(n),i.$store.commit("playMusic",n)})},formatTimeForYear:function(t){return a()(t).format("YYYY年")},likeSong:function(t,i){var s=this;"member"==this.$store.state.user.type?r.a.getMusicUrl(t.id).then(function(e){if(200==e.code){s.$store.dispatch("likeSong",{pid:s.$store.state.user.likelistID,song:{url:e.data[0].url,artist:{name:t.ar[0].name},album:{picUrl:t.al.picUrl,name:t.al.name},music:{wyID:t.id,name:t.name}}});var a=s.$store.state.user.likelist;s.hotSong.forEach(function(t,e){a.forEach(function(e){if(e.music.wyID==t.id){var a=t;t.like=!0,s.hotSong.splice(i,1,a),n.Message.success("成功收藏")}})})}}):n.Message.error("您还没有登录")},addToPlaylist:function(t){var i=this;r.a.getMusicUrl(t.id).then(function(s){200==s.code&&(i.$store.commit("addPlaylist",{url:s.data[0].url,artist:{name:t.ar[0].name},album:{picUrl:t.al.picUrl,name:t.al.name},music:{wyID:t.id,name:t.name}}),n.Message.success("成功添加到播放列表"))})}},mounted:function(){var t=this;r.a.getArtistSong(this.artistID).then(function(i){if(200==i.code){t.artistBase=i.artist,t.hotSong=i.hotSongs;var s=t.$store.state.user.likelist;t.hotSong.forEach(function(i,n){s.forEach(function(s){s.music.wyID==i.id&&(t.hotSong[n].like=!0)})})}}).then(function(){r.a.getArtistAlbum(t.artistID,100).then(function(i){200==i.code&&(console.log(i),t.hotAlbum=i.hotAlbums,t.artistShow=!0)})})}}}});
//# sourceMappingURL=7.07719699d25d29c1acf7.js.map